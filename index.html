<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Lorem ipsum dolor sit amet</title>
    <link rel="stylesheet" type="text/css" href="public/style.css">
	<script src="public/AuthorTable.js"></script>
    <script src="public/left.js"></script>
	<script>
	var hash_title = location.hash.replace("!", "").replace("#", "");
	if(hash_title){
		fetch('/get-id/' + hash_title).then(function(response){
			response.json().then(function(data){
				viewContent(data[0]['id']);
			})
		})
	};
		
	var onEdit = function(none){
		var content_edit = document.querySelectorAll('.content-edit');
		var change = 'inline';
		if(none === 'none'){
			change = 'none';
		}
		for (var i=0;i<content_edit.length;i++){
			content_edit[i].style.display = change;
		};
	};

	var viewContent = function(id){
		fetch('/content/' + String(id)).then(function(response){
			response.json().then(function(data){
				var content = `<h2>${data[0]['title']}</h2>
					<p>${data[0]['description']}</p>
					<p class="author">Edited By 
						<span class="name">${data[0]['authorName']}</span>
						<span class="profile">[${data[0]['authorProfile']}]</span>
					</p>`;
				document.querySelector('.right').innerHTML = content;
				onEdit();
			});
		});
	};
	</script>
	  
  </head>
  <body>
    <div class="banner">
      <h1><span onclick="home();">Lorem ipsum dolor sit amet</span></h1>
      <nav class="edit">
        <div class="edit-menu">
		  <ul>
			  <li onclick="Table.get();">AuthorTable</li>
			  <li>Create</li>
			  <li class="content-edit">Update</li>
			  <li class="content-edit">Delete</li>
		  </ul>
		</div>
        <div class="search-form">
			<form action="search" method="get">
				<input type="text" class="search search-bar" name="query" placeholder="검색어를 입력하세요." value="">
				<input type="submit" class="search search-button" value="Search">
			</form>	
		  </div>
      </nav>
    </div>
    <div class="main">
      <div class="left">
        <div class="sort-bar">
		  <select id="sort" onchange="findDataInNewSort();">
			  <option value="title-asc">타이틀 오름차순</option>
			  <option value="title-desc">타이틀 내림차순</option>
			  <option value="created-asc">일자 오름차순</option>
			  <option value="created-desc">일자 내림차순</option>
		  </select>
		</div>
        <div class="topic-list">topic-list</div>
        <div class="page-bar">page-bar</div>
      </div>
		<div class="right">right</div>
    </div>
  </body>
</html>